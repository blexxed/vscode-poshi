# 我为什么要选择VS Code来为POSHI做支持？
## POSHI已经是一门脚本语言，它还需要什么
从严格意义上来讲，POSHI虽然无法成为一门编程语言，但是现在也可以算的上一门脚本语言了。从工作的角度上来讲，它也逐步进入了CNQA的日常工作范围内。那么问题来了，既然进入工作范围内，它就必须具有易用性，或者有工具使它变得易用。

从语言本身的角度来讲，它已经足够易用了，封装了很多Selenium API，同时又进行了PO的架构，对于使用者，似乎是只剩下业务逻辑这方面东西了。是的，作为使用者，或者说是维护者，我们确实可以更方便的做自动化测试了。

但是从工具或者开发者（维护者）的角度来讲，似乎还不够“易用”，我总结了以下三点，之后我会分开阐述：
* 没有统一的开发（维护）工具
* 信息获取方式基本靠字面量
* 没有debugger

### 没有统一的开发（维护）工具
这个问题来源于一次我第一次学习POSHI的时候，第一次接触它的时候，我本以为它是一门类似编程语言的东西，所以必然应该有相应的IDE工具，就好比你一提Java，就能想到eclipse，一提c++或者#c，就可以想到visual studio一样，或者有人会和我说，这些都是静态语言，你拿一个脚本语言和静态语言比什么比？好，那我再来举个例子，一提Javascript，就能想到WebStorm，一提Python，就能想到Pycharm。

所以我认为，一个语言想要更好的发展，就是要让它被“用”起来。想被用起来，就是要变的易用。当然对于维护工作，这都是必须的。

### 信息获取方式基本靠字面量
其实上面这个问题可能美国已经注意到了，所以他们大部分都在使用Sublime作为POSHI的开发（维护）环境，因此Sublime也似乎变得是“统一”的工具了，上面的问题似乎也解决了，但是似乎还是存在新的问题。

不妨先从使用Sublime的初衷来看，虽然我没有用过Sublime，它作为一个著名的富文本编辑器，我可以猜到。使用它的初衷，其实是为了弥补在开发（维护）POSHI过程中，编辑过程中的一些“硬伤”。比如语法高亮、非封闭标签的智能生成、格式等功能，因为如果在普通的编辑器中，比如记事本，这些功能必须要手动完成，就会加大出错的概率。

但是这些功能都是基于文件格式的，虽然省去了一些力气，但对于文件内容本身却没有什么明显的帮助。

举个例子来讲，就是前段时间我写poshi gitbook的时候，我想写一个demo的testcase，但是我却发现我写不出来。但是我写不出来的原因，并不是因为我不懂它的语法或者结构，而是因为许多PO对象的实际含义我并不了解。也许有人会说，那你花时间了解了就可以了呀。是的没错，如果我花时间把我要使用的PO实例都了解了，就可以了。但是这里有个问题，假如有10个，我还可以花写时间了解它们，然后记住它们，那如果有100个、1000个呢？所以这里的根本问题并不是对PO实例了解程度的多少，而是现在对于PO实例了解的方式只可以通过字面量的方式来了解（即使POSHI本身是按PO架构设计的）。

### 没有debugger
这个我就不多说什么了，要开发，要维护，必须给有一个debugger。没有debugger的开发（维护）过程，就好比给让你修一台坏电视机，然后告诉你说它里面有一根电线断了，具体哪个模块的线断了，不知道。这个我在做ＡＡ的时候深有体会，尤其遇一个能跑20多分钟的testcase。

## VS Code相比Sublime能提供什么
我并不是要故意吹捧VS Code怎么怎么的，而是它确实可以做到Sublime做不到的（其实也不是做不到，是更方便做到）。

### 它可以作为POSHI的统一开发工具
它可以继承已有的文件类型实现新的语言类型，因此也可以识别新的文件类型，比如.function文件，在Sublime中是以xml格式解析的话，在VS Code中便可以以POSHI Function格式来解析，当然这个格式我现在还没有实现，我现在的实现方式是继承html的语法加上一些额外的高亮规则，如果要实现完成的POSHI语法格式，可能需要一些美国的帮助。

### 信息获取方式可以转变为对象
VS Code提供language server组件，可以实现一个动态构建、分析语言模型的服务器，之后编辑器以客户端的角色与服务器进行沟通（以http请求）。这中间的好处主要有两点：
* 分析工作交由额外的服务器: 这么做的好处是，可以使构建、分析工作与编辑器分离，因为复杂的构建、分析工作会导致编辑器本身的性能下降，因此就可以毫无顾忌的对语言进行复杂详细的构建工作。
* 沟通基于http请求: 这个就更厉害了，这个意思就是说，语言服务器可以是由任何语言实现的，比如Java，即使编辑器本身是用javascript做的，它们也可以在一起正常的工作。（所以理想中的情况就是，美国可以实现这么一个解析语言的服务器）

### debugger adapter
VS Code中的debugger和其他的IDE的debugger不同的地方在于它并不提供实际意义上的debugger，而是提供一个debugger UI和debug protocol。之后只要有遵循这个协议工作的debugger安装进来，既可以按照其实现进行调试工作。（理想中就是可以根据POSHI的调试规则，自己实现一个debugger）

## 其他优势
对于其他一些特性，比如多行编辑、智能提示、snippets、全局检索，各个富文本编辑器都有实现，其实对于使用者来讲，大同小异，这里就不做对比了，详细可以参考[VS Code官方网站][1]。

[1]: https://code.visualstudio.com/docs